{% extends 'base.html' %}
{% load static %}

{% block title %}Order #{{ order.id }} Details - CycleShop{% endblock %}

{% block hero %}{% endblock hero %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/order-detail.css' %}">
{% endblock %}

{% block content %}
<div id="order-detail-page" class="container-detail my-5">
    <h1 class="mb-4">Order #{{ order.id }} Details</h1>
    
    <div class="order-summary mb-4">
        <h3>Order Summary</h3>
        <p><strong>Name:</strong> {{ order.full_name }}</p>
        <p><strong>Email:</strong> {{ order.email }}</p>
        <p><strong>Phone Number:</strong> {{ order.phone_number }}</p>
        <p><strong>Status:</strong> {{ order.status }}</p>
        <p><strong>Order Date:</strong> {{ order.date|date:"F j, Y, g:i a" }}</p>
    </div>

    <div class="shipping-info mb-4">
        <h3>Shipping Information</h3>
        <p><strong>Address:</strong> {{ order.address }}, {{ order.city }}, {{ order.postal_code }}, {{ order.country }}</p>
    </div>

    <div class="order-items">
        <h3>Items in Order</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody>
                {% for item in order.items.all %}
                    <tr>
                        <td>{{ item.product.name }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>€{{ item.price }}</td>
                        <td>€{{ item.quantity|multiply:item.price }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <p class="total"><strong>Total:</strong> €{{ order.total }}</p>
    </div>
</div>
{% endblock %}